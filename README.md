# Stripe Server - Django + Stripe Integration

Django —Å–µ—Ä–≤–µ—Ä —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Stripe API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π. –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Ñ–æ—Ä–º –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ (Items) –∏ –∑–∞–∫–∞–∑–æ–≤ (Orders) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–∫–∏–¥–æ–∫, –Ω–∞–ª–æ–≥–æ–≤ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ Django –º–æ–¥–µ–ª—å Item —Å –ø–æ–ª—è–º–∏ (name, description, price, currency)
- ‚úÖ API endpoint `GET /buy/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ Stripe Session ID –¥–ª—è –æ–ø–ª–∞—Ç—ã Item
- ‚úÖ API endpoint `GET /item/{id}` - HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–≤–∞—Ä–µ –∏ –∫–Ω–æ–ø–∫–æ–π Buy
- ‚úÖ Django Admin –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ Docker setup

### –ë–æ–Ω—É—Å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ú–æ–¥–µ–ª—å Order –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Items
- ‚úÖ –ú–æ–¥–µ–ª–∏ Discount –∏ Tax, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å Order –∏ Stripe
- ‚úÖ –ü–æ–ª–µ Item.currency —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (USD, EUR)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Stripe Keypairs –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç
- ‚úÖ API endpoints –¥–ª—è Order: `GET /buy/order/{id}` –∏ `GET /item/order/{id}`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd stripe-server
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
source venv/bin/activate  # –ù–∞ Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # –ù–∞ Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏:
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ Stripe –∫–ª—é—á–∏
```

5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
python manage.py migrate
```

6. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
```bash
python manage.py createsuperuser
```

7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
python manage.py runserver
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

### Docker –∑–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏ (—Å–º. –≤—ã—à–µ)

2. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose up --build
```

3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
```bash
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- URL: http://localhost:8000/admin/
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `createsuperuser`

### API Endpoints

#### –ü–æ–ª—É—á–µ–Ω–∏–µ Stripe Session ID –¥–ª—è —Ç–æ–≤–∞—Ä–∞:
```bash
curl -X GET http://localhost:8000/buy/1
```
–û—Ç–≤–µ—Ç:
```json
{"sessionId": "cs_test_..."}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞:
```bash
curl -X GET http://localhost:8000/item/1
```
–û—Ç–≤–µ—Ç: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–≤–∞—Ä–µ –∏ –∫–Ω–æ–ø–∫–æ–π Buy

#### –ü–æ–ª—É—á–µ–Ω–∏–µ Stripe Session ID –¥–ª—è –∑–∞–∫–∞–∑–∞:
```bash
curl -X GET http://localhost:8000/buy/order/1
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–∫–∞–∑–∞:
```bash
curl -X GET http://localhost:8000/item/order/1
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stripe

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Stripe](https://stripe.com)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –≤ [Stripe Dashboard](https://dashboard.stripe.com/test/apikeys)
3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ —Ñ–∞–π–ª `.env` (—Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –Ω–∏–∂–µ)

## –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã)

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏ Stripe:

```env
# Django settings (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
SECRET_KEY=django-insecure-change-this-in-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
SITE_URL=http://localhost:8000

# Stripe keys (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
STRIPE_PUBLISHABLE_KEY=pk_test_–≤–∞—à_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á
STRIPE_SECRET_KEY=sk_test_–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

**–ì–¥–µ –≤–∑—è—Ç—å –∫–ª—é—á–∏ Stripe:**
1. –í–æ–π–¥–∏—Ç–µ –≤ [Stripe Dashboard](https://dashboard.stripe.com/test/apikeys)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "Test mode" –≤–≤–µ—Ä—Ö—É)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Publishable key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_test_`) –≤ `STRIPE_PUBLISHABLE_KEY`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Secret key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk_test_`) –≤ `STRIPE_SECRET_KEY`
5. –ï—Å–ª–∏ –Ω–∞–∂–∏–º–∞–µ—Ç–µ "Reveal test key", –ø–æ—è–≤–∏—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ Stripe –∞–∫–∫–∞—É–Ω—Ç—ã/–∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (USD –∏ EUR), –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

```env
# Stripe keys for USD (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö)
STRIPE_PUBLISHABLE_KEY_USD=pk_test_–≤–∞—à_usd_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á
STRIPE_SECRET_KEY_USD=sk_test_–≤–∞—à_usd_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á

# Stripe keys for EUR (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö)
STRIPE_PUBLISHABLE_KEY_EUR=pk_test_–≤–∞—à_eur_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á
STRIPE_SECRET_KEY_EUR=sk_test_–≤–∞—à_eur_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–ª—é—á–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã (USD/EUR), –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏ (`STRIPE_PUBLISHABLE_KEY` –∏ `STRIPE_SECRET_KEY`).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ .env —Ñ–∞–π–ª–∞

```env
# Django settings
SECRET_KEY=django-insecure-abc123xyz789
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,example.com
SITE_URL=http://localhost:8000

# Stripe keys (default/fallback)
STRIPE_PUBLISHABLE_KEY=pk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz1234567890
STRIPE_SECRET_KEY=sk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz1234567890

# Stripe keys for USD
STRIPE_PUBLISHABLE_KEY_USD=pk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz1234567890
STRIPE_SECRET_KEY_USD=sk_test_51AbCdEfGhIjKlMnOpQrStUvWxYz1234567890

# Stripe keys for EUR
STRIPE_PUBLISHABLE_KEY_EUR=pk_test_51XyZaBcDeFgHiJkLmNoPqRsTuVwXz9876543210
STRIPE_SECRET_KEY_EUR=sk_test_51XyZaBcDeFgHiJkLmNoPqRsTuVwXz9876543210
```

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- ‚ö†Ô∏è **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git!** –û–Ω —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- üîë –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏** (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `pk_test_` –∏ `sk_test_`) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üåê –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –Ω–∞ –∂–∏–≤—ã–µ (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `pk_live_` –∏ `sk_live_`)
- üîí `SECRET_KEY` –¥–ª—è Django –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥–æ–π: `python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"`
- üìù –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
stripe-server/
‚îú‚îÄ‚îÄ store/              # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª–∏: Item, Order, Discount, Tax
‚îÇ   ‚îú‚îÄ‚îÄ views.py       # Views –¥–ª—è API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ admin.py       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django Admin
‚îÇ   ‚îî‚îÄ‚îÄ urls.py        # URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ stripe_server/     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ settings.py    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ urls.py        # –ì–ª–∞–≤–Ω—ã–π URL –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ docker-compose.yml # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile         # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt   # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `STRIPE_SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Stripe (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π)
- `STRIPE_PUBLISHABLE_KEY` - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á Stripe (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª—é—á –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- `DEBUG` - —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `True`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `False` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- `ALLOWED_HOSTS` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `localhost,127.0.0.1`)
- `SITE_URL` - URL —Å–∞–π—Ç–∞ –¥–ª—è Stripe —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000`)
- `STRIPE_SECRET_KEY_USD`, `STRIPE_SECRET_KEY_EUR` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏)
- `STRIPE_PUBLISHABLE_KEY_USD`, `STRIPE_PUBLISHABLE_KEY_EUR` - –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–∏)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (http://localhost:8000/admin/store/item/)
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/item/1 (–∑–∞–º–µ–Ω–∏—Ç–µ 1 –Ω–∞ ID –≤–∞—à–µ–≥–æ —Ç–æ–≤–∞—Ä–∞)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Buy" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã Stripe:
   - –£—Å–ø–µ—à–Ω—ã–π –ø–ª–∞—Ç–µ–∂: 4242 4242 4242 4242
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤: 4000 0000 0000 9995
   - –ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://stripe.com/docs/testing

## –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –æ–Ω–ª–∞–π–Ω:
- **URL**: https://dietrichhttps.ru
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: https://dietrichhttps.ru/admin/

–î–ª—è –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å:
- VPS —Å Ubuntu
- Nginx –∫–∞–∫ reverse proxy
- Gunicorn –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å issue.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.
